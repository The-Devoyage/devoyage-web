"use strict";(self.webpackChunkdevoyage_web=self.webpackChunkdevoyage_web||[]).push([[5599],{3905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>g});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var l=n.createContext({}),u=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},p=function(e){var t=u(e.components);return n.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),h=u(r),g=a,d=h["".concat(l,".").concat(g)]||h[g]||c[g]||i;return r?n.createElement(d,o(o({ref:t},p),{},{components:r})):n.createElement(d,o({ref:t},p))}));function g(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=r.length,o=new Array(i);o[0]=h;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,o[1]=s;for(var u=2;u<i;u++)o[u]=r[u];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}h.displayName="MDXCreateElement"},1187:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>c,frontMatter:()=>i,metadata:()=>s,toc:()=>u});var n=r(7462),a=(r(7294),r(3905));const i={id:"auth-config",title:"The Auth Configuration"},o=void 0,s={unversionedId:"auth-service/auth-config",id:"auth-service/auth-config",title:"The Auth Configuration",description:"Enabling the Auth Service",source:"@site/subgraph/06-auth-service/02-auth-config.md",sourceDirName:"06-auth-service",slug:"/auth-service/auth-config",permalink:"/subgraph/auth-service/auth-config",draft:!1,editUrl:"https://www.github.com/The-Devoyage/devoyage-web/blob/master/subgraph/06-auth-service/02-auth-config.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{id:"auth-config",title:"The Auth Configuration"},sidebar:"subgraphSidebar",previous:{title:"Auth Service Introduction",permalink:"/subgraph/auth-service/auth-service"},next:{title:"The Subgraph User",permalink:"/subgraph/auth-service/subgraph-user"}},l={},u=[{value:"Enabling the Auth Service",id:"enabling-the-auth-service",level:2},{value:"Requesting Party",id:"requesting-party",level:3},{value:"Requesting Party Name",id:"requesting-party-name",level:3},{value:"Requesting Party Origin",id:"requesting-party-origin",level:3},{value:"Data Source",id:"data-source",level:3},{value:"Private Key",id:"private-key",level:3}],p={toc:u};function c(e){let{components:t,...r}=e;return(0,a.kt)("wrapper",(0,n.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"enabling-the-auth-service"},"Enabling the Auth Service"),(0,a.kt)("p",null,"By providing a valid configuration, the auth service is automatically enabled."),(0,a.kt)("p",null,"There are several required and optional properties that can be provided in order to\nconfigure the service securely."),(0,a.kt)("p",null,"It is suggested to use environment variables as shown below, which allows you to deploy a consistent configuration\nacross a variety of environments."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-toml"},'[service.auth]\nrequesting_party = "$TRICERATASK_RP" #"localhost"\nrequesting_party_name = "$TRICERATASK_RPN" #"triceratask.com"\nrequesting_party_origin = "$TRICERATASK_RPO" #"http://localhost:5173" #Origin of the client. http://localhost:5173\ndata_source = "triceratask_ds"\nprivate_key = "$TRICERATASK_PRIVATE_KEY" # Generate a private key using CLI Options\n')),(0,a.kt)("h3",{id:"requesting-party"},"Requesting Party"),(0,a.kt)("p",null,"The string value for the ",(0,a.kt)("inlineCode",{parentName:"p"},"requesting_party")," property represents the domain of the origin that is performing the request."),(0,a.kt)("p",null,"It is important to ensure the domain matches the ",(0,a.kt)("inlineCode",{parentName:"p"},"requesting_party_origin")," or authentication/authorization is likely to fail."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-toml"},'requesting_party = "localhost"\n')),(0,a.kt)("h3",{id:"requesting-party-name"},"Requesting Party Name"),(0,a.kt)("p",null,"While a required field, this field serves as a general identifier to the client when displaying names to the user."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-toml"},'requesting_party_name = "triceratask.com"\n')),(0,a.kt)("h3",{id:"requesting-party-origin"},"Requesting Party Origin"),(0,a.kt)("p",null,"The origin is strictly enforced during the authentication process. The domain of the origin must match the ",(0,a.kt)("inlineCode",{parentName:"p"},"requesting_party")," property."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-toml"},'requesting_party_origin = "http://localhost:3000" # The location of the client side app.\n')),(0,a.kt)("h3",{id:"data-source"},"Data Source"),(0,a.kt)("p",null,"Saving the user data is a vital step in the authentication process. Simply point the auth service to a valid data source in\norder to persist your user data."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-toml"},'data_source = "triceratask_ds"\n')),(0,a.kt)("h3",{id:"private-key"},"Private Key"),(0,a.kt)("p",null,"When using the auth service, a new private/public key pair will be generated each time a the service starts. This will\ncause your users to log in again following a restart, as the key will be different. Users do not need to register\nagain following a restart."),(0,a.kt)("p",null,"You may provide a custom private key which persists between restarts and prevents a forced log out of the user."),(0,a.kt)("p",null,"This is also useful when syncing authentication between multiple applications."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-toml"},'private_key = "$TRICERATASK_PRIVATE_KEY"\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"NOTE")," You may generate a random private/public key pair using the CLI Options."))}c.isMDXComponent=!0}}]);