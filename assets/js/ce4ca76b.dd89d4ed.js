"use strict";(self.webpackChunkdevoyage_web=self.webpackChunkdevoyage_web||[]).push([[5580],{9124:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>l,frontMatter:()=>s,metadata:()=>c,toc:()=>a});var t=r(4848),o=r(8453);const s={id:"add-the-provider",title:"Add The Provider"},i=void 0,c={id:"usage/add-the-provider",title:"Add The Provider",description:"Orion's Arrow allows access to the data and forms that can connect to the API through React Context Providers.",source:"@site/orions-arrow/03-usage/01-add-the-provider.md",sourceDirName:"03-usage",slug:"/usage/add-the-provider",permalink:"/orions-arrow/usage/add-the-provider",draft:!1,unlisted:!1,editUrl:"https://www.github.com/The-Devoyage/devoyage-web/blob/master/orions-arrow/03-usage/01-add-the-provider.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{id:"add-the-provider",title:"Add The Provider"},sidebar:"orionsArrowSidebar",previous:{title:"Install Orion's Arrow",permalink:"/orions-arrow/setup"},next:{title:"Use The Context",permalink:"/orions-arrow/usage/use-the-context"}},d={},a=[{value:"The Parent Component",id:"the-parent-component",level:2}];function u(e){const n={code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"Orion's Arrow allows access to the data and forms that can connect to the API through React Context Providers."}),"\n",(0,t.jsx)(n.h2,{id:"the-parent-component",children:"The Parent Component"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Add the provider of the API call you need to execute. In this case, we will get Accounts."}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const Parent = () => {\n  return (\n    <Providers.Accounts.Queries.GetAccountsProvider>\n      <Child />\n    </Providers.Accounts.Queries.GetAccountsProvider>\n  )\n}\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"2",children:["\n",(0,t.jsx)(n.li,{children:"Create the GraphQL Query."}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const ACCOUNT_PAGE_GET_ACCOUNTS = gql`\n  query AccountPage_GetAccounts(\n    $getAccountsInput: GetAccountsInput!\n  ) {\n    getAccounts(getAccountsInput: $getAccountsInput) {\n      data {\n        _id\n        email\n        createdAt\n      }\n    }\n  }\n`;\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"3",children:["\n",(0,t.jsxs)(n.li,{children:["Provide the required GraphQL Props to the Provider. Queries use the ",(0,t.jsx)(n.code,{children:"query"})," prop while mutations use the ",(0,t.jsx)(n.code,{children:"mutation"})," prop."]}),"\n"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"query"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"export interface QueryBase<T extends Record<string, unknown>> {\n  documentNode: DocumentNode;\n  variables: T;\n}\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"mutation"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"export interface MutationBase<\n  T extends Record<string, unknown>,\n  ReturnType extends Record<string, unknown>\n> {\n  documentNode: DocumentNode;\n  variables?: T;\n  refetchQueries?: string[];\n  onCompleted: (\n    data: ReturnType,\n    helpers: FormikHelpers<T>,\n    reset: () => void\n  ) => void;\n  onError: (\n    error: ApolloError,\n    helpers: FormikHelpers<T>,\n    reset: () => void\n  ) => void;\n}\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"<Providers.Accounts.Queries.GetAccountsProvider\n  query={{\n    documentNode: ACCOUNT_PAGE_GET_ACCOUNTS,\n    variables: {\n      getAccountsInput: {\n        query: {},\n      },\n    },\n  }}\n>\n  <Child />\n</Providers.Accounts.Queries.GetAccountsProvider>\n"})})]})}function l(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>c});var t=r(6540);const o={},s=t.createContext(o);function i(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);