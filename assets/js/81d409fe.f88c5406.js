"use strict";(self.webpackChunkdevoyage_web=self.webpackChunkdevoyage_web||[]).push([[4276],{1079:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>l,metadata:()=>d,toc:()=>h});var t=n(4848),r=n(8453),i=n(1807),s=n(7547);const l={title:"Subgraph - A Rust Powered GraphQL API Generator",slug:"subgraph-v0.0.14-scalable-graphql-api",authors:["nick"],tags:["subgraph"],date:new Date("2024-03-21T00:00:00.000Z"),description:"Spin up scalable and flexible GraphQL APIs with Subgraph, a Rust Based GraphQL Engine.",image:"https://res.cloudinary.com/the-devoyage/image/upload/v1711036382/subgraphv14_jnpclv.png",keywords:["graphql","subgraph","api","rust","backend","server","json"]},o=void 0,d={permalink:"/blog/subgraph-v0.0.14-scalable-graphql-api",editUrl:"https://www.github.com/The-Devoyage/devoyage-web/blob/master/blog/subgraph-v0.0.14/index.md",source:"@site/blog/subgraph-v0.0.14/index.md",title:"Subgraph - A Rust Powered GraphQL API Generator",description:"Spin up scalable and flexible GraphQL APIs with Subgraph, a Rust Based GraphQL Engine.",date:"2024-03-21T00:00:00.000Z",tags:[{label:"subgraph",permalink:"/blog/tags/subgraph"}],readingTime:5.495,hasTruncateMarker:!0,authors:[{name:"Nick McLean",title:"Maintainer of The Devoyage",url:"https://medium.com/@thedevoyage",imageURL:"https://cdn-images-1.medium.com/fit/c/63/63/1*TY45PiqMrWiUkivbhmp-Sw.jpeg",key:"nick"}],frontMatter:{title:"Subgraph - A Rust Powered GraphQL API Generator",slug:"subgraph-v0.0.14-scalable-graphql-api",authors:["nick"],tags:["subgraph"],date:"2024-03-21T00:00:00.000Z",description:"Spin up scalable and flexible GraphQL APIs with Subgraph, a Rust Based GraphQL Engine.",image:"https://res.cloudinary.com/the-devoyage/image/upload/v1711036382/subgraphv14_jnpclv.png",keywords:["graphql","subgraph","api","rust","backend","server","json"]},unlisted:!1,prevItem:{title:"Unlocking the Rusty Treasure Trove: Crafting Next-Gen APIs with 6 Powerhouse Crates!",permalink:"/blog/6-creates-for-graphql-in-rust"},nextItem:{title:"Create an Instant Passkey/Auth Server with Subgraph",permalink:"/blog/passkey-auth-server-with-subgraph"}},c={authorsImageUrls:[void 0]},h=[{value:"Building a Scalable API with Subgraph",id:"building-a-scalable-api-with-subgraph",level:2},{value:"Organizing Your Data",id:"organizing-your-data",level:2},{value:"Interaction with Data",id:"interaction-with-data",level:2},{value:"Resolvers",id:"resolvers",level:3},{value:"Filtering with Resolver Inputs",id:"filtering-with-resolver-inputs",level:3},{value:"Subgraph v0.0.14",id:"subgraph-v0014",level:2}];function u(e){const a={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.p,{children:"Welcome Voyager."}),"\n",(0,t.jsx)(a.p,{children:"Thank you for joining! Today, we're delving into Subgraph, a Rust-based GraphQL tool designed to simplify the creation of scalable backends."}),"\n",(0,t.jsx)(a.p,{children:"Building applications can often feel overwhelming, especially when tackling server-side logic that requires scalability,\nsecurity, and flexibility. Subgraph aims to ease this challenge by emphasizing data ownership and DevOps control."}),"\n",(0,t.jsx)(a.p,{children:"With Subgraph, you retain control of your data and servers, allowing you to deploy according to your preferences.\nIt serves as a vital layer in the stack, facilitating interaction with your rows, documents, tables, and more. Instead of\nfocusing on architecting scalable backends, Subgraph enables you to dedicate your time to building interfaces around logically organized data."}),"\n",(0,t.jsx)(a.p,{children:"The latest release, Subgraph v0.0.14, introduces exciting new features that bring this tool closer to being a comprehensive solution for your next application."}),"\n",(0,t.jsx)(a.p,{children:"I'm thrilled to have you join us on this journey! It's important to note that Subgraph is currently in a pre-alpha release state and is not yet suitable for critical production environments. However, if you create something innovative, I'd love to hear about your experience!"}),"\n",(0,t.jsx)(a.p,{children:(0,t.jsx)(a.img,{src:"https://res.cloudinary.com/the-devoyage/image/upload/v1711036382/subgraphv14_jnpclv.png",alt:"feature image"})}),"\n",(0,t.jsx)(a.h2,{id:"building-a-scalable-api-with-subgraph",children:"Building a Scalable API with Subgraph"}),"\n",(0,t.jsx)(a.p,{children:'The objective is clear: let\'s construct a scalable web server to deliver data for a user interface. But what exactly defines "scalability"?'}),"\n",(0,t.jsx)(a.p,{children:"Creating a web server might seem straightforward, but ensuring it remains adaptable and maintainable over time presents its own set of challenges. Scalability encompasses more than just horizontal and vertical deployments; it extends to various aspects of application design and architecture."}),"\n",(0,t.jsx)(a.p,{children:"Key considerations for achieving scalability include:"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsxs)(a.li,{children:[(0,t.jsx)(a.strong,{children:"Organization of Data"}),": Structuring data and its relationships in a logical and reusable manner."]}),"\n",(0,t.jsxs)(a.li,{children:[(0,t.jsx)(a.strong,{children:"Distributed Access Controls"}),": Establishing rules governing who can access specific data points across the entire API, minimizing redundancy."]}),"\n",(0,t.jsxs)(a.li,{children:[(0,t.jsx)(a.strong,{children:"Interacting with Data"}),": Designing methods to request, filter, and receive data from the API in a consistent and understandable format."]}),"\n"]}),"\n",(0,t.jsxs)(a.p,{children:["In this article, we'll focus on data organization and interaction. However, for a comprehensive understanding of how Subgraph can aid in distributed access control and other API-related topics, I encourage you to explore the ",(0,t.jsx)(a.a,{href:"https://www.thedevoyage.com/subgraph/intro",children:"Subgraph documentation"}),"."]}),"\n",(0,t.jsx)(a.h2,{id:"organizing-your-data",children:"Organizing Your Data"}),"\n",(0,t.jsxs)(a.p,{children:["If you want to follow along in your own IDE, check out the ",(0,t.jsx)(a.a,{href:"https://www.thedevoyage.com/subgraph/quickstart",children:"Quick Start"})," to learn how to download Subgraph. Below, I will skip ahead to step two, writing\nthe configuration file so that we can see how Subgraph helps you to organize data logically."]}),"\n",(0,t.jsx)(a.p,{children:"Subgraph's magic stems from a configuration file that you manage. There is no true code or build process - only a simple config."}),"\n",(0,t.jsx)(a.p,{children:(0,t.jsxs)(a.strong,{children:["In ",(0,t.jsx)(a.code,{children:"myconfig.toml"})]})}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-toml",children:'# Define the service\n[service]\nname = "parks"\nport = 3030\n\n# Tell subgraph where your data lives.\n# Subgraph supports combining multiple data sources together.\n# Built in clients include Mongo, SqLite, MySql, Postgres, and HTTP (external APIs).\n[[service.data_sources]]\n[service.data_sources.SQL]\nname = "my_sql_parks_db"\nuri = "sqlite:/home/mypath/Desktop/DEV/dbs/my_sqlite_database.db"\ndialect = "SQLITE"\n\n# An entity is a table(sql) or collection(mongo) in your database.\n# Defining an entity automatically creates CRU(d) methods to consume.\n[[service.entities]]\nname = "park"\nfields = [\n    { name = "id", scalar = "Int", required = true },\n    { name = "name", scalar = "String", required = true },\n    { name = "town", scalar = "String", required = true },\n    { name = "playground", scalar = "Boolean", required = true },\n]\n'})}),"\n",(0,t.jsxs)(a.p,{children:["Start the server with a simple command in the terminal: ",(0,t.jsx)(a.code,{children:"subgraph --config ./myconfig.toml"})," and navigate to the specified port\nto explore using the built in GraphQL SandBox - ",(0,t.jsx)(a.code,{children:"http://localhost:3030"}),"."]}),"\n",(0,t.jsx)(a.p,{children:"Once defined, Subgraph creates resolvers so that you can start interacting with the database through the API."}),"\n",(0,t.jsx)(a.h2,{id:"interaction-with-data",children:"Interaction with Data"}),"\n",(0,t.jsx)(a.p,{children:"For each entity, Subgraph creates five different resolvers which allow you to interact with the API. Each generated resolver\nis logically named based on the entity and the action."}),"\n",(0,t.jsx)(a.h3,{id:"resolvers",children:"Resolvers"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsxs)(a.li,{children:["Find One - ",(0,t.jsx)(a.code,{children:"get_park"})]}),"\n",(0,t.jsxs)(a.li,{children:["Find Many - ",(0,t.jsx)(a.code,{children:"get_parks"})]}),"\n",(0,t.jsxs)(a.li,{children:["Create One - ",(0,t.jsx)(a.code,{children:"create_park"})]}),"\n",(0,t.jsxs)(a.li,{children:["Update One* - ",(0,t.jsx)(a.code,{children:"update_park"})]}),"\n",(0,t.jsxs)(a.li,{children:["Update Many - ",(0,t.jsx)(a.code,{children:"update_parks"})]}),"\n"]}),"\n",(0,t.jsxs)(a.p,{children:["*The update one resolver is only available in dialects that nativly support ",(0,t.jsx)(a.code,{children:"LIMIT 1"})," clauses."]}),"\n",(0,t.jsx)(a.p,{children:"Using the generated resolvers, you can start to perform queries and mutations from the sandbox or your user interface."}),"\n",(0,t.jsx)(a.h3,{id:"filtering-with-resolver-inputs",children:"Filtering with Resolver Inputs"}),"\n",(0,t.jsx)(a.p,{children:"Each resolver automatically generates inputs based on the entity field definitions, allowing you to find and filter results based on any\ncriteria that the entity specifies. Inputs are logically named with the same standards as the resolver."}),"\n",(0,t.jsxs)(a.ol,{children:["\n",(0,t.jsx)(a.li,{children:(0,t.jsx)(a.em,{children:'Find a park with the name of "Clyde Warren Park".'})}),"\n"]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-graphql",children:'query GetPark {\n  get_park(get_park_input: { query: { name: "Clyde Warren Park" } }) {\n    id\n    name\n  }\n}\n'})}),"\n",(0,t.jsx)(a.p,{children:"Subgraph provides several filters that allow you to easily find the data you need such as Regex Filters and Conditional (Less Than, Greater Than) Filters."}),"\n",(0,t.jsxs)(a.ol,{start:"2",children:["\n",(0,t.jsx)(a.li,{children:(0,t.jsx)(a.em,{children:'Find a park with a name LIKE "Clyde...."'})}),"\n"]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-graphql",children:'query GetPark {\n  get_park(get_park_input: { query: { LIKE: { name: "Clyde%" } } }) {\n    id\n    name\n  }\n}\n'})}),"\n",(0,t.jsxs)(a.ol,{start:"3",children:["\n",(0,t.jsx)(a.li,{children:(0,t.jsxs)(a.em,{children:["Find many parks with an ",(0,t.jsx)(a.code,{children:"id"})," that is Greater Than 20."]})}),"\n"]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-graphql",children:"query GetParks {\n  get_parks(get_parks_input: { query: { GT: { id: 20 } } }) {\n    id\n    name\n  }\n}\n"})}),"\n",(0,t.jsxs)(a.p,{children:["Additionally, mixing and matching filters becomes possible with ",(0,t.jsx)(a.code,{children:"OR"})," and ",(0,t.jsx)(a.code,{children:"AND"})," operators which recurisvly utilize the generated inputs."]}),"\n",(0,t.jsxs)(a.ol,{start:"4",children:["\n",(0,t.jsx)(a.li,{children:(0,t.jsxs)(a.em,{children:["Find many parks that have an ",(0,t.jsx)(a.code,{children:"id"})," that is Greater Than 20 and Less Than 40"]})}),"\n"]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-graphql",children:"query GetParks {\n  get_parks(\n    get_parks_input: {\n      query: { AND: [{ GT: { id: 20 } }, { LT: { id: 40 } }] }\n    }\n  ) {\n    id\n    name\n  }\n}\n"})}),"\n",(0,t.jsx)(a.p,{children:"Large data becomes easy to mananage with database level limit based pagination baked into the generated query."}),"\n",(0,t.jsxs)(a.ol,{start:"5",children:["\n",(0,t.jsx)(a.li,{children:(0,t.jsxs)(a.em,{children:["Find many parks that have an ",(0,t.jsx)(a.code,{children:"id"})," that is Greater Than 20 and only return the second page."]})}),"\n"]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-graphql",children:"query GetParks {\n  get_parks(\n    get_parks_input: {\n      query: { AND: [{ GT: { id: 20 } }, { LT: { id: 40 } }] }\n      opts: { per_page: 10, page: 2 }\n    }\n  ) {\n    id\n    name\n  }\n}\n"})}),"\n",(0,t.jsx)(a.h2,{id:"subgraph-v0014",children:"Subgraph v0.0.14"}),"\n",(0,t.jsx)(a.p,{children:"Thank you for taking a moment to explore some of the new features in v0.0.14 of Subgraph! This tool simplifies the process of describing the data within your database, creating an intuitive and flexible interface for interacting with that data."}),"\n",(0,t.jsx)(a.p,{children:"With just over a year of development under its belt, this project has made significant strides in developing tooling that enables easy and standardized API generation."}),"\n",(0,t.jsxs)(a.p,{children:["If you're excited about the direction of the project, please consider showing your support by giving the ",(0,t.jsx)(a.a,{href:"https://www.github.com/the-devoyage/subgraph",children:"repository"})," a Star!"]}),"\n",(0,t.jsx)(i.e,{product:"subgraph",to:"https://thedevoyage.gumroad.com/l/subgraph",btnTxt:"Early Alpha Release"}),"\n",(0,t.jsx)(s.K,{})]})}function p(e={}){const{wrapper:a}={...(0,r.R)(),...e.components};return a?(0,t.jsx)(a,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},7547:(e,a,n)=>{n.d(a,{K:()=>i});n(6540);var t=n(8774),r=n(4848);const i=()=>(0,r.jsx)("div",{className:"alert alert--info margin-vert--lg",style:{display:"flex",justifyContent:"space-between",flexDirection:"column"},children:(0,r.jsxs)("div",{className:"avatar",children:[(0,r.jsx)("a",{className:"avatar__photo-link avatar__photo avatar__photo--lg",href:"https://medium.com/@thedevoyage",children:(0,r.jsx)("img",{alt:"Nick McLean Profile Image",src:"https://cdn-images-1.medium.com/fit/c/63/63/1*TY45PiqMrWiUkivbhmp-Sw.jpeg"})}),(0,r.jsxs)("div",{className:"avatar__intro",children:[(0,r.jsx)("div",{className:"avatar__name",children:"Nick McLean"}),(0,r.jsx)("small",{className:"avatar__subtitle padding-bottom--md",children:"Thanks for following along. If you would like to keep up to date make sure to check in frequently and/or follow us below!"}),(0,r.jsx)("div",{children:[{to:"https://medium.com/@thedevoyage",label:"Medium"},{to:"https://twitter.com/thedevoyage",label:"Twitter"},{to:"https://thedevoyage.slack.com",label:"Slack"},{to:"https://thedevoyage.gumroad.com/subscribe",label:"Newsletter"}].map((e=>(0,r.jsx)(t.A,{to:e.to,children:(0,r.jsx)("button",{className:"button button--primary margin-right--md",style:{color:"#fff",backgroundColor:"var(--ifm-color-dark-blue)"},children:e.label})},e.to)))})]})]})})},1807:(e,a,n)=>{n.d(a,{e:()=>i});n(6540);var t=n(8774),r=n(4848);const i=e=>{let{product:a,to:n,message:i,btnTxt:s}=e;return(0,r.jsxs)("div",{className:"alert alert--info margin-vert--lg",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i||(0,r.jsxs)("span",{children:["Want to support `@the-devoyage/",a,"`?"]}),(0,r.jsx)(t.A,{to:n,children:(0,r.jsx)("button",{className:"button button--primary",children:s||"Purchase MIT License"})})]})}},8453:(e,a,n)=>{n.d(a,{R:()=>s,x:()=>l});var t=n(6540);const r={},i=t.createContext(r);function s(e){const a=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function l(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),t.createElement(i.Provider,{value:a},e.children)}}}]);