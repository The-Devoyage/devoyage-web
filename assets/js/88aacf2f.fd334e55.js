"use strict";(self.webpackChunkdevoyage_web=self.webpackChunkdevoyage_web||[]).push([[1244],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>d});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),h=p(n),d=r,m=h["".concat(s,".").concat(d)]||h[d]||c[d]||i;return n?a.createElement(m,o(o({ref:t},u),{},{components:n})):a.createElement(m,o({ref:t},u))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=h;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var p=2;p<i;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},3313:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>c,frontMatter:()=>i,metadata:()=>l,toc:()=>p});var a=n(7462),r=(n(7294),n(3905));const i={slug:"subgraph-v0.0.4-versatile-typings",title:"Subgraph v0.0.4 - Versatile Typings for a GraphQL API Generator",authors:["nick"],tags:["subgraph"],date:new Date("2023-02-20T00:00:00.000Z")},o=void 0,l={permalink:"/blog/subgraph-v0.0.4-versatile-typings",editUrl:"https://www.github.com/The-Devoyage/devoyage-web/blob/master/blog/subgraph-v0.0.4/index.md",source:"@site/blog/subgraph-v0.0.4/index.md",title:"Subgraph v0.0.4 - Versatile Typings for a GraphQL API Generator",description:"Hello all! Thanks for joining!",date:"2023-02-20T00:00:00.000Z",formattedDate:"February 20, 2023",tags:[{label:"subgraph",permalink:"/blog/tags/subgraph"}],readingTime:2.905,hasTruncateMarker:!1,authors:[{name:"Nick McLean",title:"Maintainer of The Devoyage",url:"https://medium.com/@thedevoyage",imageURL:"https://cdn-images-1.medium.com/fit/c/63/63/1*TY45PiqMrWiUkivbhmp-Sw.jpeg",key:"nick"}],frontMatter:{slug:"subgraph-v0.0.4-versatile-typings",title:"Subgraph v0.0.4 - Versatile Typings for a GraphQL API Generator",authors:["nick"],tags:["subgraph"],date:"2023-02-20T00:00:00.000Z"},nextItem:{title:"Subgraph v0.0.3 - Reusable Resolvers with a GraphQL API Generator Built in Rust",permalink:"/blog/subgraph-v0.0.3-reusable-resolvers"}},s={authorsImageUrls:[void 0]},p=[{value:"Versatile Typings",id:"versatile-typings",level:2},{value:"The Typings",id:"the-typings",level:3},{value:"Defining an Entity",id:"defining-an-entity",level:3},{value:"Spin It Up",id:"spin-it-up",level:3}],u={toc:p};function c(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Hello all! Thanks for joining!"),(0,r.kt)("p",null,"Today, the goal is to share the idea of versatile typings for an API Generator. "),(0,r.kt)("p",null,"In version ",(0,r.kt)("inlineCode",{parentName:"p"},"v0.0.4")," of the ",(0,r.kt)("inlineCode",{parentName:"p"},"subgraph")," API Generator Project, I am happy to introduce the (mongo) Object Id Scalar. This means it's now possible to instantly start an API ",(0,r.kt)("inlineCode",{parentName:"p"},"Subgraph")," Instance with the capabilities to find Mongo Documents by their Object ID! One simple step forward for this POC GraphQL API Generator written in Rust."),(0,r.kt)("p",null,"In case you are new to ",(0,r.kt)("inlineCode",{parentName:"p"},"Project Subgraph"),', "Define to Run", is the motto. Define a simple configuration, and start the API. The code does the rest by generating resolvers and database connections -- An instantly generated API.  '),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://res.cloudinary.com/the-devoyage/image/upload/v1676924961/The-Devoyage/INTUITIVE_SCALARS_4_ttaqvh.png",alt:"GraphQL Versatile Typings"})),(0,r.kt)("p",null,"So, what kind of scalars are we including in this API Generator? Let's take a look."),(0,r.kt)("h2",{id:"versatile-typings"},"Versatile Typings"),(0,r.kt)("p",null,"Creating an API Generator needs to be versatile, yet simple. Two steps simple. "),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Define the entities."),(0,r.kt)("li",{parentName:"ol"},"Let the code do it's job to create the API.")),(0,r.kt)("p",null,"This means that the scalar type of each entity versatile enough to cover many circumstances."),(0,r.kt)("h3",{id:"the-typings"},"The Typings"),(0,r.kt)("p",null,"With ",(0,r.kt)("inlineCode",{parentName:"p"},"Subgraph v0.0.4")," we have a simple set of options, as the project is still a proof of concept in its infancy. There are 4, mostly primitive, scalars to define entities."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Object ID (Mongo)"),(0,r.kt)("li",{parentName:"ul"},"String"),(0,r.kt)("li",{parentName:"ul"},"Int"),(0,r.kt)("li",{parentName:"ul"},"Boolean")),(0,r.kt)("p",null,"As the project ramps up, more versatile options will be included."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Email"),(0,r.kt)("li",{parentName:"ul"},"Date"),(0,r.kt)("li",{parentName:"ul"},"DateTime"),(0,r.kt)("li",{parentName:"ul"},"Password"),(0,r.kt)("li",{parentName:"ul"},"Phone"),(0,r.kt)("li",{parentName:"ul"},"Objects"),(0,r.kt)("li",{parentName:"ul"},"Other Entities"),(0,r.kt)("li",{parentName:"ul"},"... the list goes on!")),(0,r.kt)("p",null,"For now, we can establish some base practices on implementing new scalars before diving into the deep end."),(0,r.kt)("h3",{id:"defining-an-entity"},"Defining an Entity"),(0,r.kt)("p",null,"I'll say it once, and I'll say it again. Define to Run is the motto."),(0,r.kt)("p",null,"Defining an entity is the almost the only thing you need to do in order to start the API, aside from declaring some database configuration."),(0,r.kt)("p",null,"Below, we define an entity for our ",(0,r.kt)("inlineCode",{parentName:"p"},"Beers")," service. It's the weekend somewhere."),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"Beer")," entity has three properties including, ",(0,r.kt)("inlineCode",{parentName:"p"},"name"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"IBU"),", and ",(0,r.kt)("inlineCode",{parentName:"p"},"inStock"),". The ability to define more than one entity is just as simple, if so chosen."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'[service]\n...\n\n[[service.entities]]\nname = "Beer"\n\n[[service.entities.fields]]\nname = "_id"\nscalar = "ObjectID"\nrequired = true\n\n[[service.entities.fields]]\nname = "name"\nscalar = "String"\nrequired = true\n\n[[service.entities.fields]]\nname = "IBU"\nscalar = "Int"\nrequired = false\n\n[[service.entities.fields]]\nname = "inStock"\nscalar = "Boolean"\nrequired = true  \n\n[[service.entities]]\n...\n')),(0,r.kt)("p",null,"In about 50 lines of code, this little API can be started! Compare that to the hundreds or thousands of lines that might be written for a completely custom API that does nearly the exact same thing. "),(0,r.kt)("p",null,"Now that these couple lines have been written into a configuration file, the API can be spun up and queried."),(0,r.kt)("h3",{id:"spin-it-up"},"Spin It Up"),(0,r.kt)("p",null,"Once the entities are defined, the hard part is done. Starting the service can be done through a simple CLI Command."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"subgraph --config ./config.toml --port 5000\n")),(0,r.kt)("p",null,"And like that... a brand new Beer API has been born! Checkout the sandbox hosted at the defined port, ",(0,r.kt)("inlineCode",{parentName:"p"},"http://localhost:5000"),", to sample your server."),(0,r.kt)("hr",null),(0,r.kt)("p",null,"Thanks for checking out the ",(0,r.kt)("a",{parentName:"p",href:"https://www.github.com/the-devoyage/subgraph"},"Repo"),", and following along with this proof of concept. If you are interested in contributing or have some ideas, feel free to share on the ",(0,r.kt)("inlineCode",{parentName:"p"},"issues")," tab."),(0,r.kt)("p",null,"Version ",(0,r.kt)("inlineCode",{parentName:"p"},"v0.0.5")," is on it's way, with configurable CORS settings. If you like the project or want to keep up to date, follow along to get notifications of future releases."))}c.isMDXComponent=!0}}]);