"use strict";(self.webpackChunkdevoyage_web=self.webpackChunkdevoyage_web||[]).push([[6909],{5726:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>c,frontMatter:()=>r,metadata:()=>l,toc:()=>d});var i=t(4848),s=t(8453);const r={id:"resolver-inputs",title:"Resolver Inputs"},a=void 0,l={id:"usage/resolver-inputs",title:"Resolver Inputs",description:"Now that you understand which resolvers are created for each entity and how to call them, you might want to dive",source:"@site/subgraph/13-usage/02-inputs.md",sourceDirName:"13-usage",slug:"/usage/resolver-inputs",permalink:"/subgraph/usage/resolver-inputs",draft:!1,unlisted:!1,editUrl:"https://www.github.com/The-Devoyage/devoyage-web/blob/master/subgraph/13-usage/02-inputs.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{id:"resolver-inputs",title:"Resolver Inputs"},sidebar:"subgraphSidebar",previous:{title:"Resolvers",permalink:"/subgraph/usage/resolvers"},next:{title:"Response",permalink:"/subgraph/usage/response"}},o={},d=[{value:"Generated Inputs",id:"generated-inputs",level:2},{value:"Query and Values",id:"query-and-values",level:2},{value:"The Query Input",id:"the-query-input",level:3},{value:"Combining Filters",id:"combining-filters",level:3},{value:"The Values Input",id:"the-values-input",level:3},{value:"The Options Input (Opts)",id:"the-options-input-opts",level:3}];function u(e){const n={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Now that you understand which resolvers are created for each entity and how to call them, you might want to dive\ndeeper into what options you have to pass to the resolver."}),"\n",(0,i.jsx)(n.h2,{id:"generated-inputs",children:"Generated Inputs"}),"\n",(0,i.jsx)(n.p,{children:"Each resolver generates unique inputs per entity, allowing consistent interface for all similar resolver methods."}),"\n",(0,i.jsx)(n.p,{children:"Like resolvers, the naming conventions are derived from the action being performed followed by the entity name."}),"\n",(0,i.jsxs)(n.p,{children:["Replacing ",(0,i.jsx)(n.code,{children:"x"})," with the entity name, the following inputs are generated."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Find One Input - ",(0,i.jsx)(n.code,{children:"get_x_input"})]}),"\n",(0,i.jsxs)(n.li,{children:["Find Many Input -",(0,i.jsx)(n.code,{children:"get_xs_input"})]}),"\n",(0,i.jsxs)(n.li,{children:["Create One Input - ",(0,i.jsx)(n.code,{children:"create_x_input"})]}),"\n",(0,i.jsxs)(n.li,{children:["Update One Input - ",(0,i.jsx)(n.code,{children:"update_x_input"})]}),"\n",(0,i.jsxs)(n.li,{children:["Update Many Input - ",(0,i.jsx)(n.code,{children:"update_xs_input"})]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"query-and-values",children:"Query and Values"}),"\n",(0,i.jsx)(n.p,{children:"Within the input, depending on the resolver type, there are three objects that can be used to direct the interaction\nwith the API."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"query - Used to provide search terms. For Find and Update Inputs."}),"\n",(0,i.jsx)(n.li,{children:"values - Used to provide new data to update or create. For Create and Update Resolver Inputs."}),"\n",(0,i.jsx)(n.li,{children:"opts - Used to provide additoinal details regarding sorting and pagination. For Find Many Resolver Inputs."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"the-query-input",children:"The Query Input"}),"\n",(0,i.jsx)(n.p,{children:"The query input is available within any Find and Update Resolver Inputs. It is used to specify which database items\nshould be processed."}),"\n",(0,i.jsxs)(n.p,{children:["The root of the input takes the shape of the entity itself and includes any fields that are defined in the Entity Field Config.\nNote, you can remove fields from the input by specifying the ",(0,i.jsx)(n.a,{href:"/subgraph/entities/fields/exclude-from-input",children:"exclude_from_input"})," configuration."]}),"\n",(0,i.jsx)(n.p,{children:"By taking the shape of the entity itself, it allows you to search for any entity by any field that it contains. Additionally,\nsubgraph appends filtering operators to each query input, allowing you to sculpt intricate and specific queries."}),"\n",(0,i.jsx)(n.p,{children:"Take for example the following entity:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-toml",children:'[[service.entities]]\nname = "student"\nfields = [\n    { name = "id", scalar = "Int", required = true },\n    { name = "name", scalar = "String", required = true },\n    { name = "status", scalar = "Boolean", required = true },\n    { name = "extra_curricular", scalar = "Boolean" }\n\n]\n'})}),"\n",(0,i.jsx)(n.p,{children:"The entity above will prompt subgraph to generate the following graphql input:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-graphql",children:"input get_student_query_input {\n  id: Int\n  name: String\n  status: Boolean\n  extra_curricular: Boolean\n  # ... Filtering Methods\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:"Note, required fields become optional for query inputs"})}),"\n",(0,i.jsxs)(n.p,{children:["Providing more than one property in a query input will result in an operation based on finding results that match\nall provided properties. In short, it is an ",(0,i.jsx)(n.code,{children:"AND"})," operation."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:"Example:"})}),"\n",(0,i.jsx)(n.p,{children:"Query for students that have a status of true AND extra_curricular is false."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:"{\n    status: true\n    extra_curricular: false\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Filtering Methods"})}),"\n",(0,i.jsx)(n.p,{children:"Additional filters are provided for any input that interface with multiple results, such as Find Many Inputs and Update\nMany Inputs."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"AND - Array of query inputs. All conditions must match."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:"Example:"})}),"\n",(0,i.jsx)(n.p,{children:"Query for students that have a status of true AND extra_curricular is false."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "AND": [{ "status": true }, { "extra_curricular": false }]\n}\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"OR - Array of query inputs. Any condition must match."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:"Example:"})}),"\n",(0,i.jsx)(n.p,{children:"Query for students that have a status of false OR extra_curricular is true."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "OR": [{ "status": false }, { "extra_curricular": true }]\n}\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"LIKE - Object of entity fields. String provided must be similar."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The LIKE operator enables full access to native filtering provided by your database. In SQL it uses\nthe wildcard syntax, while in Mongo, it uses the Regex Syntax."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:"Example:"})}),"\n",(0,i.jsx)(n.p,{children:'Query for students that starts with "Jo".'}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'// SQL\n{\n  "LIKE": { "name": "Jo%" }\n}\n\n// Mongo\n{\n    "LIKE": { "name": "/Jo/i" }\n}\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"GT/LT - Object of entity fields. Matches if result field is greater or less than provided value."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:"Example:"})}),"\n",(0,i.jsx)(n.p,{children:"Query for students that have an id greater than 400"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "GT": {\n    "id": 400\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"combining-filters",children:"Combining Filters"}),"\n",(0,i.jsx)(n.p,{children:"You can mix and match filter inputs in a nested fashion."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "AND": [{ "GT": { "id": 400 } }, { "LT": { "id": 600 } }]\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"the-values-input",children:"The Values Input"}),"\n",(0,i.jsx)(n.p,{children:"The values input is available for Update and Creation Resolvers. It allows you to specify the values that represent\nfor updating and creating an entity."}),"\n",(0,i.jsxs)(n.p,{children:["The values input takes the initial shape of the Entity using the Fields as the keys. Similar to the query input,\nyou may exclude values using the ",(0,i.jsx)(n.a,{href:"/subgraph/entities/fields/exclude-from-input",children:"exclude_from_input"})," property."]}),"\n",(0,i.jsx)(n.p,{children:"For example, the following entity definition:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-toml",children:'[[service.entities]]\nname = "student"\nfields = [\n    { name = "id", scalar = "Int", required = true, exclude_from_input: [ "All" ] },\n    { name = "name", scalar = "String", required = true },\n    { name = "status", scalar = "Boolean", required = true },\n    { name = "extra_curricular", scalar = "Boolean" }\n\n]\n'})}),"\n",(0,i.jsx)(n.p,{children:"Will create the following values input."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-graphql",children:"input get_student_values_input {\n  name: String!\n  status: Boolean!\n  extra_curricular: Boolean # Optional\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"the-options-input-opts",children:"The Options Input (Opts)"}),"\n",(0,i.jsx)(n.p,{children:"The Options Input is a special input that exists when interacting with resolvers that all interaction with finding\nor updating multiple records in a database at once. This includes the Find Many and Update Many resolvers."}),"\n",(0,i.jsx)(n.p,{children:"It includes options to help paginate and sort data including the following:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["per_page - Provide a positive number to limit results that are returned from the API or provide ",(0,i.jsx)(n.code,{children:"-1"})," to include all\nresults found. Defaults to 10."]}),"\n",(0,i.jsx)(n.li,{children:"page - Provide a page number to paginate through results."}),"\n",(0,i.jsxs)(n.li,{children:["sort - An array of type ",(0,i.jsx)(n.code,{children:"sort_input"}),", which allows you to specify the field to sort by and the direction to sort."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "per_page": 20,\n  "page": 2,\n  "sort": [\n    { "field": "id", "direction": "ASC" },\n    { "field": "name", "direction": "DESC" }\n  ]\n}\n'})})]})}function c(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>l});var i=t(6540);const s={},r=i.createContext(s);function a(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);