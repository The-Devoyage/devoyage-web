"use strict";(self.webpackChunkdevoyage_web=self.webpackChunkdevoyage_web||[]).push([[776],{608:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>c,default:()=>m,frontMatter:()=>o,metadata:()=>l,toc:()=>u});var r=a(4848),n=a(8453),i=a(1807);function s(e){return(0,r.jsx)(i.e,{product:"graphql-media",to:"https://thedevoyage.gumroad.com/l/graphql-media"})}function d(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(s,{...e})}):s()}const o={id:"intro",title:"GraphQL Media"},c=void 0,l={id:"intro",title:"GraphQL Media",description:"The @the-devoyage/graphql-media micro-service is a file uploading server that can be added as a ready-to-production service or used as a starting base for your own media uploading server.",source:"@site/media/01-intro.md",sourceDirName:".",slug:"/intro",permalink:"/media/intro",draft:!1,unlisted:!1,editUrl:"https://www.github.com/The-Devoyage/devoyage-web/blob/master/media/01-intro.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{id:"intro",title:"GraphQL Media"},sidebar:"mailerSidebar",next:{title:"Setup The Server",permalink:"/media/setup"}},p={},u=[{value:"File Uploads",id:"file-uploads",level:2},{value:"Track Uploaded Media",id:"track-uploaded-media",level:2},{value:"Serve Files",id:"serve-files",level:2}];function h(e){const t={code:"code",h2:"h2",p:"p",pre:"pre",...(0,n.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d,{}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.code,{children:"@the-devoyage/graphql-media"})," micro-service is a file uploading server that can be added as a ready-to-production service or used as a starting base for your own media uploading server."]}),"\n",(0,r.jsx)(t.h2,{id:"file-uploads",children:"File Uploads"}),"\n",(0,r.jsx)(t.p,{children:"Enable file uploading of static assets such as images, video, audio, text documents, and pdfs with a standard graphql mutation request."}),"\n",(0,r.jsx)(t.h2,{id:"track-uploaded-media",children:"Track Uploaded Media"}),"\n",(0,r.jsxs)(t.p,{children:["Each asset that is uploaded also creates a reference of type ",(0,r.jsx)(t.code,{children:"Media"}),", saved to a mongodb instance."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-graphql",children:"type Media {\n  _id: ObjectID!\n  createdAt: String!\n  updatedAt: String!\n  path: String!\n  mimetype: String!\n  created_by: User!\n  title: String!\n}\n"})}),"\n",(0,r.jsx)(t.h2,{id:"serve-files",children:"Serve Files"}),"\n",(0,r.jsxs)(t.p,{children:["Once uploaded, files may be served directly from this service or through a proxy/gateway combination. Simply fetch the ",(0,r.jsx)(t.code,{children:"Media"})," record and request the path from the service."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-ts",children:"const photoURI = `http://media_server:MEDIA_SERVER_PORT/${path}`;\n"})})]})}function m(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},1807:(e,t,a)=>{a.d(t,{e:()=>i});a(6540);var r=a(8774),n=a(4848);const i=e=>{let{product:t,to:a,message:i,btnTxt:s}=e;return(0,n.jsxs)("div",{className:"alert alert--info margin-vert--lg",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i||(0,n.jsxs)("span",{children:["Want to support `@the-devoyage/",t,"`?"]}),(0,n.jsx)(r.A,{to:a,children:(0,n.jsx)("button",{className:"button button--primary",children:s||"Purchase MIT License"})})]})}},8453:(e,t,a)=>{a.d(t,{R:()=>s,x:()=>d});var r=a(6540);const n={},i=r.createContext(n);function s(e){const t=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:s(e.components),r.createElement(i.Provider,{value:t},e.children)}}}]);